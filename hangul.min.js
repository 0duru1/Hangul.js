/**
 * Hangul.js
 * https://github.com/e-/Hangul.js
 *
 * Copyright 2012, Jaemin Jo
 * under the MIT license.
 */
; var Hangul=function(){function m(e){var t=e.length,n={0:0};for(var r=0;r<t;r++){if(e[r])n[e[r].charCodeAt(0)]=r}return n}function g(e){var t=e.length,n={},r,i;for(var s=0;s<t;s++){r=e[s][0].charCodeAt(0);i=e[s][1].charCodeAt(0);if(typeof n[r]==="undefined"){n[r]={}}n[r][i]=e[s][2].charCodeAt(0)}return n}function y(e){return l[e]}function b(e){return typeof c[e]!=="undefined"}function w(e){return typeof h[e]!=="undefined"}function E(e){return typeof p[e]!=="undefined"}function S(e){return 44032<=e&&e<=55203}function x(e,t){return v[e]&&v[e][t]?v[e][t]:false}function T(e,t){return d[e]&&d[e][t]?d[e][t]:false}function L(e){this.string=e;this.disassembled=N(e).join("")}var e=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],t=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ",["ㅗ","ㅏ"],["ㅗ","ㅐ"],["ㅗ","ㅣ"],"ㅛ","ㅜ",["ㅜ","ㅓ"],["ㅜ","ㅔ"],["ㅜ","ㅣ"],"ㅠ","ㅡ",["ㅡ","ㅣ"],"ㅣ"],n=["","ㄱ","ㄲ",["ㄱ","ㅅ"],"ㄴ",["ㄴ","ㅈ"],["ㄴ","ㅎ"],"ㄷ","ㄹ",["ㄹ","ㄱ"],["ㄹ","ㅁ"],["ㄹ","ㅂ"],["ㄹ","ㅅ"],["ㄹ","ㅌ"],["ㄹ","ㅍ"],["ㄹ","ㅎ"],"ㅁ","ㅂ",["ㅂ","ㅅ"],"ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],r=44032,i=["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],s=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],o=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],u=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],a=[["ㄱ","ㅅ","ㄳ"],["ㄴ","ㅈ","ㄵ"],["ㄴ","ㅎ","ㄶ"],["ㄹ","ㄱ","ㄺ"],["ㄹ","ㅁ","ㄻ"],["ㄹ","ㅂ","ㄼ"],["ㄹ","ㅅ","ㄽ"],["ㄹ","ㅌ","ㄾ"],["ㄹ","ㅍ","ㄿ"],["ㄹ","ㅎ","ㅀ"],["ㅂ","ㅅ","ㅄ"]],f=[["ㅗ","ㅏ","ㅘ"],["ㅗ","ㅐ","ㅙ"],["ㅗ","ㅣ","ㅚ"],["ㅜ","ㅓ","ㅝ"],["ㅜ","ㅔ","ㅞ"],["ㅜ","ㅣ","ㅟ"],["ㅡ","ㅣ","ㅢ"]],l,c,h,p,d,v;l=m(i);c=m(s);h=m(o);p=m(u);d=g(a);v=g(f);var N=function(i){if(typeof i==="object"){i=i.join("")}var s=[],o=i.length,u,a,f,l;for(var d=0;d<o;d++){l=i.charCodeAt(d);if(S(l)){l-=r;f=l%28;a=(l-f)/28%21;u=parseInt((l-f)/28/21);s.push(e[u]);if(typeof t[a]==="object"){s=s.concat(t[a])}else{s.push(t[a])}if(f>0){if(typeof n[f]==="object"){s=s.concat(n[f])}else{s.push(n[f])}}}else if(y(l)){var v;if(b(l)){v=e[c[l]]}else{v=n[p[l]]}if(typeof v=="string"){s.push(v)}else{s=s.concat(v)}}else if(w(l)){var v=t[h[l]];if(typeof v=="string"){s.push(v)}else{s=s.concat(v)}}else{s.push(i.charAt(d))}}return s};var C=function(e){function a(n){var i,s,u,a,f=0,l,d="";if(o+1>n){return}for(step=1;;step++){if(step===1){s=e[o+step].charCodeAt(0);if(w(s)){if(o+step+1<=n&&w(u=e[o+step+1].charCodeAt(0))){t.push(String.fromCharCode(x(s,u)));o=n;return}else{t.push(e[o+step]);o=n;return}}else if(!b(s)){t.push(e[o+step]);o=n;return}d=e[o+step]}else if(step===2){u=e[o+step].charCodeAt(0);if(b(u)){s=T(s,u);d=String.fromCharCode(s);t.push(d);o=n;return}else{d=String.fromCharCode((c[s]*21+h[u])*28+r)}}else if(step===3){a=e[o+step].charCodeAt(0);if(x(u,a)){u=x(u,a)}else{f=a}d=String.fromCharCode((c[s]*21+h[u])*28+p[f]+r)}else if(step===4){l=e[o+step].charCodeAt(0);if(T(f,l)){f=T(f,l)}else{f=l}d=String.fromCharCode((c[s]*21+h[u])*28+p[f]+r)}else if(step===5){l=e[o+step].charCodeAt(0);f=T(f,l);d=String.fromCharCode((c[s]*21+h[u])*28+p[f]+r)}if(o+step>=n){t.push(d);o=n;return}}}if(typeof e==="string"){e=N(e)}var t=[],n=e.length,i,s=0,o=-1,u;for(var f=0;f<n;f++){i=e[f].charCodeAt(0);if(!b(i)&&!w(i)&&!E(i)){a(f-1);a(f);s=0;continue}if(s==0){if(b(i)){s=1}else if(w(i)){s=4}}else if(s==1){if(w(i)){s=2}else{if(T(u,i)){s=5}else{a(f-1)}}}else if(s==2){if(E(i)){s=3}else if(w(i)){if(x(u,i)){}else{a(f-1);s=4}}else{a(f-1);s=1}}else if(s==3){if(E(i)){if(T(u,i)){}else{a(f-1);s=1}}else if(b(i)){a(f-1);s=1}else if(w(i)){a(f-2);s=2}}else if(s==4){if(w(i)){if(x(u,i)){a(f);s=0}else{a(f-1)}}else{a(f-1);s=1}}else if(s==5){if(w(i)){a(f-2);s=2}else{a(f-1);s=1}}u=i}a(f-1);return t.join("")};var k=function(e,t){var n=N(e).join(""),r=N(t).join("");return n.indexOf(r)};L.prototype.search=function(e){return N(e).join("").indexOf(this.disassembled)};return{disassemble:N,assemble:C,search:k,Searcher:L,isHangul:function(e){if(typeof e==="string")e=e.charCodeAt(0);return S(e)},isConsonant:function(e){if(typeof e==="string")e=e.charCodeAt(0);return typeof y(e)!=="undefined"},isVowel:function(e){if(typeof e==="string")e=e.charCodeAt(0);return w(e)},isCho:function(e){if(typeof e==="string")e=e.charCodeAt(0);return b(e)},isJong:function(e){if(typeof e==="string")e=e.charCodeAt(0);return E(e)}}}()
